<% content_for :mathjax %> 
<div class="container my-5">

  <% if @quiz.errors.any? %>
    <div class="row mb-4">
      <div class="col text-center">
        <div class="alert alert-warning shadow-sm">
          <h2><%= pluralize(@quiz.errors.count, "error") %> prevented this quiz from being saved:</h2>
          <!--
          <ul class="list-unstyled mt-3">
            <% @quiz.errors.full_messages.each do |message| %>
              <li class="mb-2">⚠️ <%= message %></li>
            <% end %>
          </ul>
          -->
        </div>
      </div>
    </div>
  <% end %>

  <div class="row mb-4">
    <div class="col text-center">
      <h1 class="display-4 fw-bold text-gradient"> Fetch a New Quiz</h1>
      <p class="text-muted">Fill out the form below to generate a quiz that suits your study needs.</p>
    </div>
  </div>

  <%= form_with model: @quiz, method: :post, class: 'quiz-form needs-validation' do |f| %>
    <div class="row mb-3">
      <div class="col-md-6 offset-md-3">
        <div class="form-group">
          <%= f.label :topic, "Quiz Topic", class: "form-label text-dark fw-bold" %>
          <%= f.text_field :topic, class: 'form-control shadow-sm', placeholder: "e.g., Math, Science, History" %>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6 offset-md-3">
        <div class="form-group">
          <%= f.label :difficulty, "Difficulty Level", class: "form-label text-dark fw-bold" %>
          <%= f.select :difficulty, Quiz.difficulties.keys.map { |w| [w.humanize, w] }, {}, class: 'form-select shadow-sm' %>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6 offset-md-3">
        <div class="form-group">
          <%= f.label :study_duration, "Study Duration (mins)", class: "form-label text-dark fw-bold" %>
          <%= f.number_field :study_duration, min: 0, max: 120, step: 10, class: 'form-control shadow-sm' %>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6 offset-md-3">
        <div class="form-group">
          <%= f.label :detail_level, "Detail Level", class: "form-label text-dark fw-bold" %>
          <%= f.select :detail_level, Quiz.detail_levels.keys.map { |w| [w.humanize, w] }, {}, class: 'form-select shadow-sm' %>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6 offset-md-3">
        <div class="form-group">
          <%= f.label :number_of_questions, "Number of Questions", class: "form-label text-dark fw-bold" %>
          <%= f.number_field :number_of_questions, min: 0, max: 20, step: 1, class: 'form-control shadow-sm' %>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col text-center">
        <%= f.submit "Fetch Quiz", class: 'btn btn-special btn-lg shadow-sm' %>
      </div>
    </div>
  <% end %>
</div>



<style>
  body{
    background-color: #f9f0ed;
  }

  .btn-special {
    background: var(--color-good-purple);
    color: white;
    border: none;
    /* transition: background 0.3s ease, transform 0.2s ease; */
    padding: 10px 20px;
    border-radius: 30px;
}

.btn-special:hover {
    background: var(--color-good-purple-dark);
    transform: scale(1.05);
    color: white;
    box-shadow: 0px 4px 10px rgba(84, 101, 255, 0.3);
    transition: background 0.3s ease, transform 0.2s ease;

}
</style>
